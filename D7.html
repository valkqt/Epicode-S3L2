<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      *,
      *::before,
      *::after {
        box-sizing: border-box;
      }

      body {
        margin: 0;
      }

      body div,
      footer {
        padding: 1rem;
      }

      footer {
        padding: 1rem;
        background-color: black;
        color: white;
      }

      .myHeading {
        color: #ff00d6;
      }
    </style>
  </head>

  <body>
    <div>
      <h1>Questo è il titolo della pagina</h1>
      <h2>Questo è il sottotitolo della pagina</h2>
    </div>

    <div>
      <hr />

      <ul id="firstList">
        <li>1st</li>
        <li>2nd</li>
        <li>3rd</li>
      </ul>

      <ul id="secondList">
        <li>1st</li>
        <li>2nd</li>
        <li>3rd</li>
      </ul>

      <a href="https://epicode.com/it/">Questo link porta al sito di Epicode</a>

      <div>
        <p>Questo testo è un placeholder per gli esercizi</p>
      </div>
    </div>

    <div>
      <p>Anche questo testo è per gli esercizi</p>
      <h2 id="changeMyColor" style="color: #ff00d6">
        Apri questa pagina con VSCode per scoprire gli esercizi
      </h2>
    </div>

    <div id="tableArea"></div>

    <footer>
      <h3>
        DOM Manipulation is super
        <a
          href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Manipulating_documents"
          >AWESOME!</a
        >
      </h3>
    </footer>
    <script>
            /* ESERCIZIO 1
               Scrivi una funzione per cambiare il titolo della pagina in qualcos'altro
            */

            const changeTitle = function () {
              document.querySelector("h1").innerHTML = "DOM Manipulation";
            };

            changeTitle();

            /* ESERCIZIO 2
               Scrivi una funzione per aggiungere al titolo della pagina una classe "myHeading"
            */

            const addClassToTitle = function () {
              document.querySelector("h1").classList.add("myHeading");
            };

            addClassToTitle();

            /* ESERCIZIO 3
               Scrivi una funzione che cambi il testo dei p figli di un div
              */

            const changePcontent = function () {
              const paragraphs = document.querySelectorAll("p");
              for (i = 0; i < paragraphs.length; i++) {
                if (paragraphs[i].parentElement.tagName === "DIV") {
                  paragraphs[i].innerHTML =
                    "Ho cambiato il testo dei p dentro ai div";
                }
              }
            };

            changePcontent();
            /* ESERCIZIO 4
               Scrivi una funzione che cambi la proprietà href di ogni link (tranne quello nel footer) con il valore https://www.google.com
              */

            const changeUrls = function () {
              const linkCollection = document.getElementsByTagName("a");
              const footer = document.querySelector("footer");

              for (i = 0; i < linkCollection.length; i++) {
                if (!footer.contains(linkCollection[i])) {
                  linkCollection[i].href = "https://www.google.com";
                }
              }
            };

            changeUrls();

            /* ESERCIZIO 5
               Scrivi una funzione che aggiunga un nuovo elemento lista alla seconda lista non ordinata
            */

            const addToTheSecond = function () {
              const listCollection = document.querySelectorAll("ul");
              const newElement = document.createElement("li");
              listCollection[1].appendChild(newElement);
              newElement.innerHTML = "pepe plofi";
            };

            addToTheSecond();

            /* ESERCIZIO 6
               Scrivi una funzione che aggiunga un paragrafo al primo div
            */

            const addParagraph = function () {
              const newParagraph = document.createElement("p");
              newParagraph.innerHTML = "briccoli cappellobuffo";
              document.querySelector("div").appendChild(newParagraph);
            };

            addParagraph();

            /* ESERCIZIO 7
               Scrivi una funzione che faccia scomparire la prima lista non ordinata
            */

            const hideFirstUl = function () {
              document.querySelector("ul").style.display = "none";
            };

            hideFirstUl();

            /* ESERCIZIO 8
               Scrivi una funzione che renda verde il background di ogni lista non ordinata
              */

            const paintItGreen = function () {
              document
                .querySelectorAll("ul")
                .forEach((elem) => (elem.style.backgroundColor = "green"));
            };

            paintItGreen();

            /* ESERCIZIO 9
               Scrivi una funzione che rimuova l'ultima lettera dall'h1 ogni volta che l'utente lo clicca
              */

            const makeItClickable = function () {
              const header = document.querySelector("h1");
              header.addEventListener(
                "click",
                () => (header.innerHTML = header.innerHTML.slice(0, -1))
              );
            };

            makeItClickable();

            /* ESERCIZIO 10
               Crea una funzione che, al click sul footer, riveli l'URL del link interno come contenuto di un alert()
              */

            const revealFooterLink = function () {
              const footer = document.querySelector("footer");
              const link = document.querySelector("footer a");
              footer.addEventListener("click", () => alert(link.href));
            };

            revealFooterLink();

            /* ESERCIZIO 11
               Crea una funzione che crei una tabella nell'elemento con id "tableArea".
               La tabella avrà 5 elementi e questa struttura: immagine, nome prodotto, quantità, prezzo
            */

            const generateTable = function () {
              const newTable = document.createElement("table");
              document.getElementById("tableArea").appendChild(newTable);
            };

            generateTable();

            /* ESERCIZIO 12
               Crea una funzione che aggiunga una riga alla tabella precedentemente creata e fornisca i dati necessari come parametri
            */

            const addRow = function () {
              const headerRow = document.createElement("tr");
              document.querySelector("table").appendChild(headerRow);
              const arr = ["immagine", "nome prodotto", "quantità", "prezzo"];

              for (i = 0; i < 4; i++) {
                let tableHeader = document.createElement("th");
                tableHeader.innerHTML = arr[i];
                tableHeader.style.border = "1px solid black";
                headerRow.appendChild(tableHeader);
              }
            };

            addRow();

            /* ESERCIZIO 14
              Crea una funzione che nasconda le immagini della tabella quando eseguita
            */

            const hideAllImages = function () {
              const imageCollection = document.querySelectorAll("img");
              for (i = 0; i < imageCollection.length; i++) {
                if (document.querySelector("table").contains(imageCollection[i])) {
                  imageCollection[i].style.display = "none";
                }
              }
            };

            /* EXTRA ESERCIZIO 15
              Crea una funzione che cambi il colore del h2 con id "changeMyColor" con un colore random ad ogni click ricevuto
            */

            const changeColorWithRandom = function () {
              // consiglio di chiudere l'array Colors in quanto è parecchio grande
              const Colors = [
      '#F44336',
      '#FFEBEE',
      '#FFCDD2',
      '#EF9A9A',
      '#E57373',
      '#EF5350',
      '#E53935',
      '#D32F2F',
      '#C62828',
      '#B71C1C',
      '#FF8A80',
      '#FF5252',
      '#FF1744',
      '#D50000',
      '#FCE4EC',
      '#F8BBD0',
      '#F48FB1',
      '#F06292',
      '#EC407A',
      '#E91E63',
      '#D81B60',
      '#C2185B',
      '#AD1457',
      '#880E4F',
      '#FF80AB',
      '#FF4081',
      '#F50057',
      '#C51162',
      '#F3E5F5',
      '#E1BEE7',
      '#CE93D8',
      '#BA68C8',
      '#AB47BC',
      '#9C27B0',
      '#8E24AA',
      '#7B1FA2',
      '#6A1B9A',
      '#4A148C',
      '#EA80FC',
      '#E040FB',
      '#D500F9',
      '#AA00FF',
      '#EDE7F6',
      '#D1C4E9',
      '#B39DDB',
      '#9575CD',
      '#7E57C2',
      '#673AB7',
      '#5E35B1',
      '#512DA8',
      '#4527A0',
      '#311B92',
      '#B388FF',
      '#7C4DFF',
      '#651FFF',
      '#6200EA',
      '#E8EAF6',
      '#C5CAE9',
      '#9FA8DA',
      '#7986CB',
      '#5C6BC0',
      '#3F51B5',
      '#3949AB',
      '#303F9F',
      '#283593',
      '#1A237E',
      '#8C9EFF',
      '#536DFE',
      '#3D5AFE',
      '#304FFE',
      '#E3F2FD',
      '#BBDEFB',
      '#90CAF9',
      '#64B5F6',
      '#42A5F5',
      '#2196F3',
      '#1E88E5',
      '#1976D2',
      '#1565C0',
      '#0D47A1',
      '#82B1FF',
      '#448AFF',
      '#2979FF',
      '#2962FF',
      '#E1F5FE',
      '#B3E5FC',
      '#81D4FA',
      '#4FC3F7',
      '#29B6F6',
      '#03A9F4',
      '#039BE5',
      '#0288D1',
      '#0277BD',
      '#01579B',
      '#80D8FF',
      '#40C4FF',
      '#00B0FF',
      '#0091EA',
      '#E0F7FA',
      '#B2EBF2',
      '#80DEEA',
      '#4DD0E1',
      '#26C6DA',
      '#00BCD4',
      '#00ACC1',
      '#0097A7',
      '#00838F',
      '#006064',
      '#84FFFF',
      '#18FFFF',
      '#00E5FF',
      '#00B8D4',
      '#E0F2F1',
      '#B2DFDB',
      '#80CBC4',
      '#4DB6AC',
      '#26A69A',
      '#009688',
      '#00897B',
      '#00796B',
      '#00695C',
      '#004D40',
      '#A7FFEB',
      '#64FFDA',
      '#1DE9B6',
      '#00BFA5',
      '#E8F5E9',
      '#C8E6C9',
      '#A5D6A7',
      '#81C784',
      '#66BB6A',
      '#4CAF50',
      '#43A047',
      '#388E3C',
      '#2E7D32',
      '#1B5E20',
      '#B9F6CA',
      '#69F0AE',
      '#00E676',
      '#00C853',
      '#F1F8E9',
      '#DCEDC8',
      '#C5E1A5',
      '#AED581',
      '#9CCC65',
      '#8BC34A',
      '#7CB342',
      '#689F38',
      '#558B2F',
      '#33691E',
      '#CCFF90',
      '#B2FF59',
      '#76FF03',
      '#64DD17',
      '#F9FBE7',
      '#F0F4C3',
      '#E6EE9C',
      '#DCE775',
      '#D4E157',
      '#CDDC39',
      '#C0CA33',
      '#AFB42B',
      '#9E9D24',
      '#827717',
      '#F4FF81',
      '#EEFF41',
      '#C6FF00',
      '#AEEA00',
      '#FFFDE7',
      '#FFF9C4',
      '#FFF59D',
      '#FFF176',
      '#FFEE58',
      '#FFEB3B',
      '#FDD835',
      '#FBC02D',
      '#F9A825',
      '#F57F17',
      '#FFFF8D',
      '#FFFF00',
      '#FFEA00',
      '#FFD600',
      '#FFF8E1',
      '#FFECB3',
      '#FFE082',
      '#FFD54F',
      '#FFCA28',
      '#FFC107',
      '#FFB300',
      '#FFA000',
      '#FF8F00',
      '#FF6F00',
      '#FFE57F',
      '#FFD740',
      '#FFC400',
      '#FFAB00',
      '#FFF3E0',
      '#FFE0B2',
      '#FFCC80',
      '#FFB74D',
      '#FFA726',
      '#FF9800',
      '#FB8C00',
      '#F57C00',
      '#EF6C00',
      '#E65100',
      '#FFD180',
      '#FFAB40',
      '#FF9100',
      '#FF6D00',
      '#FBE9E7',
      '#FFCCBC',
      '#FFAB91',
      '#FF8A65',
      '#FF7043',
      '#FF5722',
      '#F4511E',
      '#E64A19',
      '#D84315',
      '#BF360C',
      '#FF9E80',
      '#FF6E40',
      '#FF3D00',
      '#DD2C00',
      '#EFEBE9',
      '#D7CCC8',
      '#BCAAA4',
      '#A1887F',
      '#8D6E63',
      '#795548',
      '#6D4C41',
      '#5D4037',
      '#4E342E',
      '#3E2723',
      '#FAFAFA',
      '#F5F5F5',
      '#EEEEEE',
      '#E0E0E0',
      '#BDBDBD',
      '#9E9E9E',
      '#757575',
      '#616161',
      '#424242',
      '#212121',
      '#ECEFF1',
      '#CFD8DC',
      '#B0BEC5',
      '#90A4AE',
      '#78909C',
      '#607D8B',
      '#546E7A',
      '#455A64',
      '#37474F',
      '#263238',
      '#000000',
      ];
              const header = document.querySelector('h2')
              header.addEventListener('click', (e) => e.target.style.color = Colors[Math.floor(Math.random()*Colors.length)])
            };

            changeColorWithRandom()

            /* EXTRA ESERCIZIO 16
              Crea una funzione che elimini le vocali da ogni elemento testuale della pagina (puoi aiutarti con i nuovi metodi degli array di ES6)
            */

            // questa funzione elimina tutte le vocali da tutti gli elementi del body, non consiglio di farla partire in quanto rallenta il browser

            // const deleteVowels = function () {
            //   const arr = ["a", "e", "i", "o", "u", 'A', 'E', 'I', 'O', 'U'];
            //   const nodes = document.body.querySelectorAll("*")
            //   console.log(nodes)
            //   for (node of nodes) {
            //     if (node.tagName !== 'SCRIPT') {
            //       for (i = 0; i < node.innerHTML.length; i++) {
            //         if (arr.includes(node.innerHTML[i])) {
            //           for (vowel of arr) {
            //             node.innerHTML = node.innerHTML.replace(vowel, '')
            //           }
            //         }
            //       }
            //     }
            //   }
            // };

            // deleteVowels();
    </script>
  </body>
</html>
